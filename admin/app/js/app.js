/*!
 * 
 * Angle - Bootstrap Admin App + AngularJS Material
 * 
 * Version: 3.0.0
 * Author: @themicon_co
 * Website: http://themicon.co
 * License: https://wrapbootstrap.com/help/licenses
 * 
 */
!function(){"use strict";angular.module("angle",["app.core","app.routes","app.sidebar","app.navsearch","app.preloader","app.loadingbar","app.translate","app.settings","app.maps","app.utils","app.material","app.dashboard","app.users","app.themes","app.tags","app.rooms","auth.login","auth.noAuth","app.group","app.authority"])}(),function(){"use strict";angular.module("app.colors",[])}(),function(){"use strict";angular.module("app.dashboard",[])}(),function(){"use strict";angular.module("app.loadingbar",[])}(),function(){"use strict";angular.module("app.core",["ngRoute","ngAnimate","ngStorage","ngCookies","pascalprecht.translate","ui.bootstrap","ui.router","oc.lazyLoad","cfp.loadingBar","ngSanitize","ngResource","ui.utils","ngAria","ngMessages"])}(),function(){"use strict";angular.module("app.lazyload",[])}(),function(){"use strict";angular.module("app.navsearch",[])}(),function(){"use strict";angular.module("app.preloader",[])}(),function(){"use strict";angular.module("app.routes",["app.lazyload"])}(),function(){"use strict";angular.module("app.sidebar",[])}(),function(){"use strict";angular.module("app.settings",[])}(),function(){"use strict";angular.module("app.material",["ngMaterial"])}(),function(){"use strict";angular.module("app.utils",["app.colors"])}(),function(){"use strict";angular.module("app.translate",[])}(),function(){"use strict";angular.module("app.maps",[])}(),function(){"use strict";angular.module("app.colors").constant("APP_COLORS",{primary:"#3F51B5",success:"#4CAF50",info:"#2196F3",warning:"#FF9800",danger:"#F44336",inverse:"#607D8B",green:"#009688",pink:"#E91E63",purple:"#673AB7",dark:"#263238",yellow:"#FFEB3B","gray-darker":"#232735","gray-dark":"#3a3f51",gray:"#dde6e9","gray-light":"#e4eaec","gray-lighter":"#edf1f2"})}(),function(){"use strict";function e(e){function t(t){return e[t]||"#fff"}this.byName=t}angular.module("app.colors").service("Colors",e),e.$inject=["APP_COLORS"]}(),function(){"use strict";function e(e,t,o,n){function i(){a.splineOptions={series:{lines:{show:!1},points:{show:!0,radius:4},splines:{show:!0,tension:.4,lineWidth:1,fill:.5}},grid:{borderColor:"#eee",borderWidth:1,hoverable:!0,backgroundColor:"#fcfcfc"},tooltip:!0,tooltipOpts:{content:function(e,t,o){return t+" : "+o}},xaxis:{tickColor:"#fcfcfc",mode:"categories"},yaxis:{min:0,max:150,tickColor:"#eee",position:e.app.layout.isRTL?"right":"left",tickFormatter:function(e){return e}},shadowSize:0},e.$on("panel-refresh",function(o,n){console.log("Simulating chart refresh during 3s on #"+n),t(function(){e.$broadcast("removeSpinner",n),console.log("Refreshed #"+n)},3e3)}),e.$on("panel-remove",function(e,t,o){console.log("Panel #"+t+" removing"),o.resolve()}),e.$on("panel-removed",function(e,t){console.log("Panel #"+t+" removed")}),a.dashboardInfo={},o.dashboardInfo().success(function(e,t,o,i){if(200!=e.code){var r=n.simple().content(e.message).action("我知道了").highlightAction(!1).position("top right");n.show(r).then(function(){})}a.dashboardInfo=e.message}).error(function(e,t,o,i){var a=n.simple().content("出错了，错误代码："+t).action("我知道了").highlightAction(!1).position("top right");n.show(a).then(function(){})}),o.getHotTags().success(function(e,t,o,i){if(200!=e.code){var r=n.simple().content(e.message).action("我知道了").highlightAction(!1).position("top right");n.show(r).then(function(){})}a.hotTags=e.message}).error(function(e,t,o,i){var a=n.simple().content("出错了，错误代码："+t).action("我知道了").highlightAction(!1).position("top right");n.show(a).then(function(){})}),o.getRecommended().success(function(e,t,o,i){if(200!=e.code){var r=n.simple().content(e.message).action("我知道了").highlightAction(!1).position("top right");n.show(r).then(function(){})}a.recommended=e.message}).error(function(e,t,o,i){var a=n.simple().content("出错了，错误代码："+t).action("我知道了").highlightAction(!1).position("top right");n.show(a).then(function(){})}),o.getHotThemes().success(function(e,t,o,i){if(200!=e.code){var r=n.simple().content(e.message).action("我知道了").highlightAction(!1).position("top right");n.show(r).then(function(){})}a.hotThemes=e.message}).error(function(e,t,o,i){var a=n.simple().content("出错了，错误代码："+t).action("我知道了").highlightAction(!1).position("top right");n.show(a).then(function(){})})}var a=this;i()}angular.module("app.dashboard").config(["$controllerProvider",function(e){e.allowGlobals()}]).controller("DashboardController",e),e.$inject=["$scope","$timeout","DashBoardService","$mdToast"]}(),function(){"use strict";function e(e,t){return{dashboardInfo:function(){return e.get(t.app.baseUrl+"dashboard/info")},usersCount:function(){return e.get(t.app.baseUrl+"user/select/all/")},tagsCount:function(){return e.get(t.app.baseUrl+"user/select/blocked/")},themesCount:function(){return e.get(t.app.baseUrl+"user/select/blocked/")},userAddedToday:function(){return e.get(t.app.baseUrl+"user/select/blocked/")},usersBlockedCount:function(){return e.get(t.app.baseUrl+"user/select/blocked/")},usersBlockedCount:function(){return e.get(t.app.baseUrl+"user/select/blocked/")},usersDeletedCount:function(){return e.get(t.app.baseUrl+"user/select/blocked/")},themesAddedToday:function(){return e.get(t.app.baseUrl+"user/select/blocked/")},themesDeletedCount:function(){return e.get(t.app.baseUrl+"user/select/deleted/")},tagsAddedToday:function(){return e.get(t.app.baseUrl+"user/select/blocked/")},tagsDeletedCount:function(){return e.get(t.app.baseUrl+"user/select/blocked/")},getHotTags:function(){return e.get(t.app.baseUrl+"tags/select/hotTags")},getRecommended:function(){return e.get(t.app.baseUrl+"user/recommended")},getHotThemes:function(){return e.get(t.app.baseUrl+"themes/hot")}}}angular.module("app.dashboard").service("DashBoardService",e),e.$inject=["$http","$rootScope"]}(),function(){"use strict";function e(e){e.includeBar=!0,e.includeSpinner=!1,e.latencyThreshold=500,e.parentSelector=".wrapper > section"}angular.module("app.loadingbar").config(e),e.$inject=["cfpLoadingBarProvider"]}(),function(){"use strict";function e(e,t,o,n,i,a){var r;e.$on("$stateChangeStart",function(e,n,i){return"true"==localStorage.isFromLoginPage&&void 0!=localStorage.isFromLoginPage?(localStorage.isFromLoginPage="false",!1):void($(".wrapper > section").length&&(r=t(function(){o.start()},0)))}),e.$on("$stateChangeSuccess",function(e,n,s){e.targetScope.$watch("$viewContentLoaded",function(){t.cancel(r),o.complete()});var l=function(e,t){var o=i.simple().content(e).action("确定").highlightAction(!1).position("top right");i.show(o).then(function(){a.go(t)}),a.go(t),"localhost"==document.domain},c=["auth.login","auth.noAuth"];if(void 0==localStorage.login||"false"==localStorage.login){for(var u=0;u<c.length;u++){var p=c[u];if(-1==n.name.indexOf(p)){l("无权访问，请登录","auth.login");break}}return!1}var h=["auth.login"];if("true"==localStorage.login)for(var u=0;u<h.length;u++){var p=h[u];if(-1!=n.name.indexOf(p)&&"true"==localStorage.isRoot){l("您已登录过","app.welcome");break}}return"false"==localStorage.isRoot?("auth.noAuth"!=n.name&&"auth.login"!=n.name&&a.go("auth.noAuth"),!1):void 0})}angular.module("app.loadingbar").run(e),e.$inject=["$rootScope","$timeout","cfpLoadingBar","$mdDialog","$mdToast","$state"]}(),function(){"use strict";function e(e,t,o,n){var i=angular.module("app.core");i.controller=e.register,i.directive=t.directive,i.filter=o.register,i.factory=n.factory,i.service=n.service,i.constant=n.constant,i.value=n.value}angular.module("app.core").config(e),e.$inject=["$controllerProvider","$compileProvider","$filterProvider","$provide"]}(),function(){"use strict";angular.module("app.core").constant("APP_MEDIAQUERY",{desktopLG:1200,desktop:992,tablet:768,mobile:480})}(),function(){"use strict";function e(e,t,o,n,i,a,r,s){e.$state=t,e.$stateParams=o,e.$storage=n.localStorage,e.colorByName=a.byName,e.cancel=function(e){e.stopPropagation()},e.$on("$stateNotFound",function(e,t){console.log(t.to),console.log(t.toParams),console.log(t.options)}),e.$on("$stateChangeError",function(e,t,o,n,i,a){console.log(a)}),e.$on("$stateChangeSuccess",function(){n.scrollTo(0,0),e.currTitle=t.current.title}),e.currTitle=t.current.title,e.pageTitle=function(){var t=e.app.name+" - "+(e.currTitle||e.app.description);return document.title=t,t}}angular.module("app.core").run(e),e.$inject=["$rootScope","$state","$stateParams","$window","$templateCache","Colors"]}(),function(){"use strict";function e(e,t){return{init:function(e,t){for(var o=function(){return{isSelectAll:!1,isElementSelected:{},selectedList:[]}},n=0;n<t.length;n++){var i=t[n];e[i]=o()}e.toggleSelectAll=function(e,t){if(t.isSelectAll){t.selectedList=[];for(var o=0;o<e.length;o++){var n=e[o];t.isElementSelected[n._id]=!0,t.selectedList.push(n._id),t.isSelectAll=!0}}else{for(var o=0;o<e.length;o++){var n=e[o];t.isElementSelected[n._id]=!1,t.isSelectAll=!1}t.selectedList=[]}},e.selectThis=function(e,t){void 0==t.isElementSelected[e]&&(t.isElementSelected[e]=!1),t.isElementSelected[e]?(t.isElementSelected[e]=!0,t.selectedList.push(e)):(t.isElementSelected[e]=!1,t.selectedList.splice(t.selectedList.indexOf(e),1))},e.selecteThisById=function(e,t){-1==t.selectedList.indexOf(e)&&(t.isElementSelected[e]=!0,t.selectedList.push(e))},e.unSelectThisById=function(e,t){t.selectedList.splice(t.selectedList.indexOf(e),1),t.isElementSelected[e]=!1},e.selectAll=function(e,t){t.selectedList=[];for(var o=0;o<e.length;o++){var n=e[o];t.isElementSelected[n._id]=!0,t.selectedList.push(n._id),t.isSelectAll=!0}}}}}angular.module("app.core").service("MOptions",e),e.$inject=["$http","$rootScope"]}(),function(){"use strict";function e(e,t){e.config({debug:!1,events:!0,modules:t.modules})}angular.module("app.lazyload").config(e),e.$inject=["$ocLazyLoadProvider","APP_REQUIRES"]}(),function(){"use strict";angular.module("app.lazyload").constant("APP_REQUIRES",{scripts:{modernizr:["vendor/modernizr/modernizr.js"],icons:["vendor/fontawesome/css/font-awesome.min.css","vendor/simple-line-icons/css/simple-line-icons.css"],"weather-icons":["vendor/weather-icons/css/weather-icons.min.css"],loadGoogleMapsJS:["app/vendor/gmap/load-google-maps.js"]},modules:[{name:"ui.map",files:["vendor/angular-ui-map/ui-map.js"]},{name:"datatables",files:["vendor/datatables/media/css/jquery.dataTables.css","vendor/datatables/media/js/jquery.dataTables.js","vendor/angular-datatables/dist/angular-datatables.js"],serie:!0}]})}(),function(){"use strict";function e(){var e={controller:o,restrict:"A"};return e}function t(){var e={controller:n,restrict:"A"};return e}function o(e,t,o){t.on("click",function(e){e.stopPropagation()}).on("click",o.toggle)}function n(e,t,o){var n='.navbar-form input[type="text"]';$(n).on("click",function(e){e.stopPropagation()}).on("keyup",function(e){27===e.keyCode&&o.dismiss()}),$(document).on("click",o.dismiss),t.on("click",function(e){e.stopPropagation()}).on("click",o.dismiss)}angular.module("app.navsearch").directive("searchOpen",e).directive("searchDismiss",t),o.$inject=["$scope","$element","NavSearch"],n.$inject=["$scope","$element","NavSearch"]}(),function(){"use strict";function e(){function e(){var e=$(o);e.toggleClass("open");var t=e.hasClass("open");e.find("input")[t?"focus":"blur"]()}function t(){$(o).removeClass("open").find('input[type="text"]').blur().val("")}this.toggle=e,this.dismiss=t;var o="form.navbar-form"}angular.module("app.navsearch").service("NavSearch",e)}(),function(){"use strict";function e(e,t,o){function n(n,i){function a(){var e=100-c;c+=.015*Math.pow(1-Math.sqrt(e),2),n.loadCounter=parseInt(c,10),l=t(a,20)}function r(){t.cancel(l),n.loadCounter=100,t(function(){e.addClass(i,"preloader-hidden"),angular.element("body").css("overflow","")},300)}function s(){var e=o.defer(),i=0,a=n.$on("$viewContentLoaded",function(){i++,2===i&&(t(function(){e.resolve()},1),a())});return e.promise}n.loadCounter=0;var l,c=0;angular.element("body").css("overflow","hidden"),i.addClass("preloader"),s().then(r),l=t(a)}var i={restrict:"EAC",template:'<div class="preloader-progress"><div class="preloader-progress-bar" ng-style="{width: loadCounter + \'%\'}"></div></div>',link:n};return i}angular.module("app.preloader").directive("preloader",e),e.$inject=["$animate","$timeout","$q"]}(),function(){"use strict";function e(e){function t(e){return"app/views/"+e}function o(){var t=arguments;return{deps:["$ocLazyLoad","$q",function(o,n){function i(e){return"function"==typeof e?r.then(e):r.then(function(){var t=a(e);return t?o.load(t):$.error("Route resolve: Bad resource name ["+e+"]")})}function a(t){if(e.modules)for(var o in e.modules)if(e.modules[o].name&&e.modules[o].name===t)return e.modules[o];return e.scripts&&e.scripts[t]}for(var r=n.when(1),s=0,l=t.length;l>s;s++)r=i(t[s]);return r}]}}return{basepath:t,resolveFor:o,$get:function(){return{basepath:t,resolveFor:o}}}}angular.module("app.routes").provider("RouteHelpers",e),e.$inject=["APP_REQUIRES"]}(),function(){"use strict";function e(e,t,o,n){t.html5Mode(!1),void 0==localStorage.login||"false"==localStorage.login?(localStorage.login="false",o.otherwise("/auth/login")):o.otherwise("/app/welcome"),e.state("app",{url:"/app","abstract":!0,templateUrl:n.basepath("app.html"),resolve:n.resolveFor("modernizr","icons")}).state("app.welcome",{url:"/welcome",title:"Welcome",templateUrl:n.basepath("welcome.html")}).state("app.dashboard",{url:"/dashboard",title:"控制面板",templateUrl:n.basepath("dashboard.html")}).state("app.cards",{url:"/cards",title:"Material Cards",templateUrl:n.basepath("material.cards.html")}).state("app.forms",{url:"/forms",title:"Material Forms",templateUrl:n.basepath("material.forms.html")}).state("app.whiteframe",{url:"/whiteframe",title:"Material Whiteframe",templateUrl:n.basepath("material.whiteframe.html")}).state("app.matcolors",{url:"/matcolors",title:"Material Colors",templateUrl:n.basepath("material.colors.html")}).state("app.lists",{url:"/lists",title:"Material Lists",templateUrl:n.basepath("material.lists.html")}).state("app.inputs",{url:"/inputs",title:"Material Inputs",templateUrl:n.basepath("material.inputs.html")}).state("app.matwidgets",{url:"/matwidgets",title:"Material Widgets",templateUrl:n.basepath("material.widgets.html"),resolve:n.resolveFor("weather-icons","loadGoogleMapsJS",function(){return loadGoogleMaps()},"ui.map")}).state("app.ngmaterial",{url:"/ngmaterial",title:"ngMaterial",templateUrl:n.basepath("material.ngmaterial.html")}).state("app.usersmgr",{url:"/users",title:"用户数据管理",templateUrl:n.basepath("data/users.html"),resolve:n.resolveFor("datatables")}).state("app.themesmgr",{url:"/themes",title:"投稿管理",templateUrl:n.basepath("data/themes.html"),resolve:n.resolveFor("datatables")}).state("app.tagsmgr",{url:"/tags",title:"标签管理",templateUrl:n.basepath("data/tags.html"),resolve:n.resolveFor("datatables")}).state("app.roomsmgr",{url:"/rooms",title:"房间管理",templateUrl:n.basepath("data/rooms.html"),resolve:n.resolveFor("datatables")}).state("app.website",{url:"/website/manager",title:"官网管理",templateUrl:n.basepath("website/website.html")}).state("auth",{url:"/auth",templateUrl:n.basepath("auth/page.html"),resolve:n.resolveFor("modernizr","icons"),controller:["$rootScope",function(e){e.app.layout.isBoxed=!1}]}).state("auth.login",{url:"/login",title:"登录",templateUrl:n.basepath("auth/login.html")}).state("auth.noAuth",{url:"/noauth",title:"登录",templateUrl:n.basepath("auth/noauth.html")}).state("app.authority",{url:"/authority",title:"登录",templateUrl:n.basepath("authority/authority.html")}).state("app.group",{url:"/group",title:"登录",templateUrl:n.basepath("authority/group.html")})}angular.module("app.routes").config(e),e.$inject=["$stateProvider","$locationProvider","$urlRouterProvider","RouteHelpersProvider"]}(),function(){"use strict";function e(e,t,o,n,i){function a(){function a(e){t.menuItems=e}function r(e){if(e){if(e.sref&&"#"!==e.sref)return o.is(e.sref)||o.includes(e.sref);var t=!1;return angular.forEach(e.submenu,function(e){r(e)&&(t=!0)}),t}}function s(e){e+="";for(var t in c)(0>e||e.indexOf(t)<0)&&(c[t]=!0)}function l(e){return"string"==typeof e&&!(e.indexOf("-")<0)}var c=[];e.$watch("app.layout.asideHover",function(e,t){t===!1&&e===!0&&s(-1)}),n.getMenu(a),t.getMenuItemPropClasses=function(e){return(e.heading?"nav-heading":"")+(r(e)?" active":"")},t.addCollapse=function(t,o){c[t]=e.app.layout.asideHover?!0:!r(o)},t.isCollapse=function(e){return c[e]},t.toggleCollapse=function(o,n){return i.isSidebarCollapsed()||e.app.layout.asideHover?!0:(angular.isDefined(c[o])?t.lastEventFromChild||(c[o]=!c[o],s(o)):n&&s(-1),t.lastEventFromChild=l(o),!0)}}a()}angular.module("app.sidebar").controller("SidebarController",e),e.$inject=["$rootScope","$scope","$state","SidebarLoader","Utils"]}(),function(){"use strict";function e(e,t,o,n){function i(o,i,r){function u(e){e===!0?t(function(){f.on(v,function(e){$(e.target).parents(".aside").length||p()})}):f.off(v)}function p(){e.app.asideToggled=!1,o.$$phase||o.$apply()}var h=e.$state.current.name,g=i,d=n.isTouch()?"click":"mouseenter",m=$();if(g.on(d,".nav > li",function(){(n.isSidebarCollapsed()||e.app.layout.asideHover)&&(m.trigger("mouseleave"),m=s($(this),g),a())}),o.$on("closeSidebarMenu",function(){l()}),c.on("resize",function(){n.isMobile()||p()}),e.$on("$stateChangeStart",function(t,o){h=o.name,p(),e.$broadcast("closeSidebarMenu")}),angular.isDefined(r.sidebarAnyclickClose)){var f=$(".wrapper"),v="click.sidebar";e.$watch("app.asideToggled",u)}}function a(){var e=$("<div/>",{"class":"dropdown-backdrop"});e.insertAfter(".aside-inner").on("click mouseenter",function(){l()})}function r(e){e.siblings("li").removeClass("open").end().toggleClass("open")}function s(t,o){l();var n=t.children("ul");if(!n.length)return $();if(t.hasClass("open"))return r(t),$();var i=$(".aside"),a=$(".aside-inner"),s=parseInt(a.css("padding-top"),0)+parseInt(i.css("padding-top"),0),u=n.clone().appendTo(i);r(t);var p=t.position().top+s-o.scrollTop(),h=c.height();return u.addClass("nav-floating").css({position:e.app.layout.isFixed?"fixed":"absolute",top:p,bottom:u.outerHeight(!0)+p>h?0:"auto"}),u.on("mouseleave",function(){r(t),u.remove()}),u}function l(){$(".dropdown-backdrop").remove(),$(".sidebar-subnav.nav-floating").remove(),$(".sidebar li.open").removeClass("open")}var c=angular.element(o),u={link:i,restrict:"EA",template:'<nav class="sidebar" ng-transclude></nav>',transclude:!0,replace:!0};return u}angular.module("app.sidebar").directive("sidebar",e),e.$inject=["$rootScope","$timeout","$window","Utils"]}(),function(){"use strict";function e(e){function t(t,o){var n="server/sidebar-menu.json",i=n+"?v="+(new Date).getTime();o=o||function(){alert("Failure loading menu")},e.get(i).success(t).error(o)}this.getMenu=t}angular.module("app.sidebar").service("SidebarLoader",e),e.$inject=["$http"]}(),function(){"use strict";function e(e){function t(){e.user={name:localStorage.username,job:localStorage.introduction,picture:localStorage.photo},e.toggleUserBlock=function(){e.$broadcast("toggleUserBlock")},e.userBlockVisible=!1,e.$on("toggleUserBlock",function(){e.userBlockVisible=!e.userBlockVisible})}t()}angular.module("app.sidebar").controller("UserBlockController",e),e.$inject=["$rootScope"]}(),function(){"use strict";function e(e,t,o,n){e.app={name:"Poimoe",description:"管理后台",year:(new Date).getFullYear(),layout:{isFixed:!0,isCollapsed:!1,isBoxed:!1,isRTL:!1,horizontal:!1,isFloat:!1,asideHover:!1,theme:null},useFullLayout:!1,hiddenFooter:!1,offsidebarOpen:!1,asideToggled:!1,viewAnimation:"ng-fadeInUp",baseUrl:"http://api.poimoe.com/"},"localhost"!=document.domain&&(document.domain="poimoe.com");var i=function(e){if(document.cookie.length>0){var t=document.cookie.indexOf(e+"=");if(-1!=t){t=t+e.length+1;var o=document.cookie.indexOf(";",t);if(-1==o)return o=document.cookie.length,unescape(document.cookie.substring(t,o))}}return""},a=i("userData");o.parseUserInfo(a),"undefined"!=localStorage.login&&"true"==localStorage.login&&n.go("app.welcome"),e.app.layout.horizontal="app-h"===e.$stateParams.layout,e.$watch("app.layout.isCollapsed",function(t){t===!1&&e.$broadcast("closeSidebarMenu")})}angular.module("app.settings").run(e),e.$inject=["$rootScope","$localStorage","AuthService","$state"]}(),function(){"use strict";function e(e){e.icon("share-arrow","app/img/icons/share-arrow.svg",24).icon("upload","app/img/icons/upload.svg",24).icon("copy","app/img/icons/copy.svg",24).icon("print","app/img/icons/print.svg",24).icon("hangout","app/img/icons/hangout.svg",24).icon("mail","app/img/icons/mail.svg",24).icon("message","app/img/icons/message.svg",24).icon("copy2","app/img/icons/copy2.svg",24).icon("facebook","app/img/icons/facebook.svg",24).icon("twitter","app/img/icons/twitter.svg",24)}function t(e){window.$hp=e,"undefined"!=typeof localStorage.login&&"true"==localStorage.login&&(e.defaults.headers.common.Authorization="Basic "+localStorage.accessToken)}angular.module("app.material").config(e).config(t),e.$inject=["$mdIconProvider"],t.$inject=["$httpProvider"]}(),function(){"use strict";function e(e,t,o){function n(e){var n,i=e?r.states.filter(a(e)):[];return r.simulateQuery?(n=o.defer(),t(function(){n.resolve(i)},1e3*Math.random(),!1),n.promise):i}function i(){var e="Alabama, Alaska, Arizona, Arkansas, California, Colorado, Connecticut, Delaware, Florida, Georgia, Hawaii, Idaho, Illinois, Indiana, Iowa, Kansas, Kentucky, Louisiana, Maine, Maryland, Massachusetts, Michigan, Minnesota, Mississippi, Missouri, Montana, Nebraska, Nevada, New Hampshire, New Jersey, New Mexico, New York, North Carolina, North Dakota, Ohio, Oklahoma, Oregon, Pennsylvania, Rhode Island, South Carolina, South Dakota, Tennessee, Texas, Utah, Vermont, Virginia, Washington, West Virginia, Wisconsin, Wyoming";return e.split(/, +/g).map(function(e){return{value:e.toLowerCase(),display:e}})}function a(e){var t=angular.lowercase(e);return function(e){return 0===e.value.indexOf(t)}}var r=this;r.states=i(),r.selectedItem=null,r.searchText=null,r.querySearch=n,r.simulateQuery=!1,r.isDisabled=!1}function t(e,t,o){e.alert="",e.showListBottomSheet=function(t){e.alert="",o.show({templateUrl:"bottom-sheet-list-template.html",controller:"ListBottomSheetCtrl",targetEvent:t}).then(function(t){e.alert=t.name+" clicked!"})},e.showGridBottomSheet=function(t){e.alert="",o.show({templateUrl:"bottom-sheet-grid-template.html",controller:"GridBottomSheetCtrl",targetEvent:t}).then(function(t){e.alert=t.name+" clicked!"})}}function o(e,t){e.items=[{name:"Share",icon:"share"},{name:"Upload",icon:"upload"},{name:"Copy",icon:"copy"},{name:"Print this page",icon:"print"}],e.listItemClick=function(o){var n=e.items[o];t.hide(n)}}function n(e,t){e.items=[{name:"Hangout",icon:"hangout"},{name:"Mail",icon:"mail"},{name:"Message",icon:"message"},{name:"Copy",icon:"copy"},{name:"Facebook",icon:"facebook"},{name:"Twitter",icon:"twitter"}],e.listItemClick=function(o){var n=e.items[o];t.hide(n)}}function i(e){e.data={},e.data.cb1=!0,e.data.cb2=!1,e.data.cb3=!1,e.data.cb4=!1,e.data.cb5=!1}function a(e){e.data={group1:"Banana",group2:"2",group3:"avatar-1"},e.avatarData=[{id:"svg-1",title:"avatar 1",value:"avatar-1"},{id:"svg-2",title:"avatar 2",value:"avatar-2"},{id:"svg-3",title:"avatar 3",value:"avatar-3"}],e.radioData=[{label:"Apple",value:1},{label:"Banana",value:2},{label:"Mango",value:"3",isDisabled:!0}],e.submit=function(){alert("submit")};var t=["Apple","Banana","Mango","Grape","Melon","Strawberry","Kiwi"];e.addItem=function(){var o=t[Math.floor(Math.random()*t.length)];e.radioData.push({label:o,value:o})},e.removeItem=function(){e.radioData.pop()}}function r(e){e.data={cb1:!0,cb4:!0},e.onChange=function(t){e.message="The switch is now: "+t}}function s(e,t){function o(e,t){e.hide=function(){t.hide()},e.cancel=function(){t.cancel()},e.answer=function(e){t.hide(e)}}e.alert="",e.showAlert=function(e){t.show(t.alert().title("This is an alert title").content("You can specify some description text in here.").ariaLabel("Password notification").ok("Got it!").targetEvent(e))},e.showConfirm=function(o){var n=t.confirm().title("Would you like to delete your debt?").content("All of the banks have agreed to forgive you your debts.").ariaLabel("Lucky day").ok("Please do it!").cancel("Sounds like a scam").targetEvent(o);t.show(n).then(function(){e.alert="You decided to get rid of your debt."},function(){e.alert="You decided to keep your debt."})},e.showAdvanced=function(n){t.show({controller:o,templateUrl:"dialog1.tmpl.html",targetEvent:n}).then(function(t){e.alert="You said the information was '"+t+"'."},function(){e.alert="You cancelled the dialog."})},o.$inject=["$scope","$mdDialog"]}function l(e){e.color={red:Math.floor(255*Math.random()),green:Math.floor(255*Math.random()),blue:Math.floor(255*Math.random())},e.rating1=3,e.rating2=2,e.rating3=4,e.disabled1=0,e.disabled2=70}function c(){var e=this;e.userState="",e.states="AL AK AZ AR CA CO CT DE FL GA HI ID IL IN IA KS KY LA ME MD MA MI MN MS MO MT NE NV NH NJ NM NY NC ND OH OK OR PA RI SC SD TN TX UT VT VA WA WV WI WY".split(" ").map(function(e){return{abbrev:e}}),e.sizes=["small (12-inch)","medium (14-inch)","large (16-inch)","insane (42-inch)"],e.toppings=[{category:"meat",name:"Pepperoni"},{category:"meat",name:"Sausage"},{category:"meat",name:"Ground Beef"},{category:"meat",name:"Bacon"},{category:"veg",name:"Mushrooms"},{category:"veg",name:"Onion"},{category:"veg",name:"Green Pepper"},{category:"veg",name:"Green Olives"}]}function u(e){e.user={title:"Developer",email:"ipsum@lorem.com",firstName:"",lastName:"",company:"Google",address:"1600 Amphitheatre Pkwy",city:"Mountain View",state:"CA",biography:"Loves kittens, snowboarding, and can type at 130 WPM.\n\nAnd rumor has it she bouldered up Castle Craig!",postalCode:"94043"},e.project={description:"Nuclear Missile Defense System",clientName:"Bill Clinton",rate:500}}function p(e,t){e.mode="query",e.determinateValue=30,e.determinateValue2=30,t(function(){e.determinateValue+=1,e.determinateValue2+=1.5,e.determinateValue>100&&(e.determinateValue=30,e.determinateValue2=30)},100,0,!0),t(function(){e.mode="query"===e.mode?"determinate":"query"},7200,0,!0)}function h(e,t,o,n){e.toggleLeft=function(){o("left").toggle().then(function(){n.debug("toggle left is done")})},e.toggleRight=function(){o("right").toggle().then(function(){n.debug("toggle RIGHT is done")})},e.closeLeft=function(){o("left").close().then(function(){n.debug("close LEFT is done")})},e.closeRight=function(){o("right").close().then(function(){n.debug("close RIGHT is done")})}}function g(e){e.messages=[{face:"app/img/user/10.jpg",what:"Brunch this weekend?",who:"Min Li Chan",when:"3:08PM",notes:"I'll be in your neighborhood doing errands"},{face:"app/img/user/01.jpg",what:"Brunch this weekend?",who:"Min Li Chan",when:"3:08PM",notes:"I'll be in your neighborhood doing errands"},{face:"app/img/user/02.jpg",what:"Brunch this weekend?",who:"Min Li Chan",when:"3:08PM",notes:"I'll be in your neighborhood doing errands"},{face:"app/img/user/03.jpg",what:"Brunch this weekend?",who:"Min Li Chan",when:"3:08PM",notes:"I'll be in your neighborhood doing errands"},{face:"app/img/user/04.jpg",what:"Brunch this weekend?",who:"Min Li Chan",when:"3:08PM",notes:"I'll be in your neighborhood doing errands"},{face:"app/img/user/05.jpg",what:"Brunch this weekend?",who:"Min Li Chan",when:"3:08PM",notes:"I'll be in your neighborhood doing errands"},{face:"app/img/user/06.jpg",what:"Brunch this weekend?",who:"Min Li Chan",when:"3:08PM",notes:"I'll be in your neighborhood doing errands"},{face:"app/img/user/07.jpg",what:"Brunch this weekend?",who:"Min Li Chan",when:"3:08PM",notes:"I'll be in your neighborhood doing errands"},{face:"app/img/user/08.jpg",what:"Brunch this weekend?",who:"Min Li Chan",when:"3:08PM",notes:"I'll be in your neighborhood doing errands"},{face:"app/img/user/09.jpg",what:"Brunch this weekend?",who:"Min Li Chan",when:"3:08PM",notes:"I'll be in your neighborhood doing errands"},{face:"app/img/user/11.jpg",what:"Brunch this weekend?",who:"Min Li Chan",when:"3:08PM",notes:"I'll be in your neighborhood doing errands"}]}function d(e,t){e.toastPosition={bottom:!1,top:!0,left:!1,right:!0},e.getToastPosition=function(){return Object.keys(e.toastPosition).filter(function(t){return e.toastPosition[t]}).join(" ")},e.showCustomToast=function(){t.show({controller:"ToastCtrl",templateUrl:"toast-template.html",hideDelay:6e4,parent:"#toastcontainer",position:e.getToastPosition()})},e.showSimpleToast=function(){t.show(t.simple().content("Simple Toast!").position(e.getToastPosition()).hideDelay(3e4))},e.showActionToast=function(){var o=t.simple().content("Action Toast!").action("OK").highlightAction(!1).position(e.getToastPosition());t.show(o).then(function(){alert("You clicked 'OK'.")})}}function m(e,t){e.closeToast=function(){t.hide()}}function f(e){e.demo={}}function v(e,t,o){e.alert="",e.showListBottomSheet=function(t){e.alert="",o.show({templateUrl:"bottom-sheet-list-template.html",controller:"ListBottomSheetCtrl",targetEvent:t,parent:"#bottomsheetcontainer"}).then(function(t){e.alert=t.name+" clicked!"})},e.showGridBottomSheet=function(t){e.alert="",o.show({templateUrl:"bottom-sheet-grid-template.html",controller:"GridBottomSheetCtrl",targetEvent:t,parent:"#bottomsheetcontainer"}).then(function(t){e.alert=t.name+" clicked!"})}}function w(e,t){e.items=[{name:"Share",icon:"share-arrow"},{name:"Upload",icon:"upload"},{name:"Copy",icon:"copy"},{name:"Print this page",icon:"print"}],e.listItemClick=function(o){var n=e.items[o];t.hide(n)}}function b(e,t){e.items=[{name:"Hangout",icon:"hangout"},{name:"Mail",icon:"mail"},{name:"Message",icon:"message"},{name:"Copy",icon:"copy2"},{name:"Facebook",icon:"facebook"},{name:"Twitter",icon:"twitter"}],e.listItemClick=function(o){var n=e.items[o];t.hide(n)}}angular.module("app.material").controller("MDAutocompleteCtrl",e).controller("MDBottomSheetCtrl",t).controller("MDListBottomSheetCtrl",o).controller("MDGridBottomSheetCtrl",n).controller("MDCheckboxCtrl",i).controller("MDRadioCtrl",a).controller("MDSwitchCtrl",r).controller("MDDialogCtrl",s).controller("MDSliderCtrl",l).controller("MDSelectCtrl",c).controller("MDInputCtrl",u).controller("MDProgressCtrl",p).controller("MDSidenavCtrl",h).controller("MDSubheaderCtrl",g).controller("MDToastCtrl",d).controller("ToastCtrl",m).controller("MDTooltipCtrl",f).controller("BottomSheetExample",v).controller("ListBottomSheetCtrl",w).controller("GridBottomSheetCtrl",b),e.$inject=["$scope","$timeout","$q"],t.$inject=["$scope","$timeout","$mdBottomSheet"],o.$inject=["$scope","$mdBottomSheet"],n.$inject=["$scope","$mdBottomSheet"],i.$inject=["$scope"],a.$inject=["$scope"],r.$inject=["$scope"],s.$inject=["$scope","$mdDialog"],l.$inject=["$scope"],u.$inject=["$scope"],p.$inject=["$scope","$interval"],h.$inject=["$scope","$timeout","$mdSidenav","$log"],g.$inject=["$scope"],d.$inject=["$scope","$mdToast"],m.$inject=["$scope","$mdToast"],f.$inject=["$scope"],v.$inject=["$scope","$timeout","$mdBottomSheet"],w.$inject=["$scope","$mdBottomSheet"],b.$inject=["$scope","$mdBottomSheet"]}(),function(){"use strict";function e(e,t){var o=["app/img/icons/share-arrow.svg","app/img/icons/upload.svg","app/img/icons/copy.svg","app/img/icons/print.svg","app/img/icons/hangout.svg","app/img/icons/mail.svg","app/img/icons/message.svg","app/img/icons/copy2.svg","app/img/icons/facebook.svg","app/img/icons/twitter.svg"];angular.forEach(o,function(o){e.get(o,{cache:t})})}angular.module("app.material").run(e),e.$inject=["$http","$templateCache"]}(),function(){"use strict";function e(e){function t(){o.sparkOption1={type:"line",width:"100%",height:"140px",tooltipOffsetX:-20,tooltipOffsetY:20,lineColor:e.byName("success"),fillColor:e.byName("success"),spotColor:"rgba(0,0,0,.26)",minSpotColor:"rgba(0,0,0,.26)",maxSpotColor:"rgba(0,0,0,.26)",highlightSpotColor:"rgba(0,0,0,.26)",highlightLineColor:"rgba(0,0,0,.26)",spotRadius:2,tooltipPrefix:"",tooltipSuffix:" Visits",tooltipFormat:"{{prefix}}{{y}}{{suffix}}",chartRangeMin:0,resize:!0},o.sparkOptionPie={type:"pie",width:"2em",height:"2em",sliceColors:[e.byName("success"),e.byName("gray-light")]}}var o=this;t()}angular.module("app.material").controller("MaterialWidgetsController",e),
e.$inject=["Colors"]}(),function(){"use strict";function e(e){function t(t,o,n){t.$watch(function(){return t.$eval(n.animateEnabled,t)},function(t){e.enabled(!!t,o)})}var o={link:t,restrict:"A"};return o}angular.module("app.utils").directive("animateEnabled",e),e.$inject=["$animate"]}(),function(){"use strict";function e(e){return e.jQBrowser}angular.module("app.utils").service("Browser",e),e.$inject=["$window"]}(),function(){"use strict";function e(e,t){function o(o,n){n.on("click",function(n){n.preventDefault(),o.resetKey?(delete t[o.resetKey],e.go(e.current,{},{reload:!0})):$.error("No storage key specified for reset.")})}var n={link:o,restrict:"A",scope:{resetKey:"@"}};return n}angular.module("app.utils").directive("resetKey",e),e.$inject=["$state","$localStorage"]}(),function(){"use strict";function e(e){function t(t,o){e.msie?o.addClass("hide"):o.on("click",function(e){e.preventDefault(),screenfull.enabled?(screenfull.toggle(),screenfull.isFullscreen?$(this).children("em").removeClass("fa-expand").addClass("fa-compress"):$(this).children("em").removeClass("fa-compress").addClass("fa-expand")):$.error("Fullscreen not enabled")})}var o={link:t,restrict:"A"};return o}angular.module("app.utils").directive("toggleFullscreen",e),e.$inject=["Browser"]}(),function(){"use strict";function e(){function e(e,o,n){o.on("click",function(e){o.is("a")&&e.preventDefault();var i,a=n.loadCss;a?(i=t(a),i||$.error("Error creating stylesheet link element.")):$.error("No stylesheet location defined.")})}function t(e){var t="autoloaded-stylesheet",o=$("#"+t).attr("id",t+"-old");return $("head").append($("<link/>").attr({id:t,rel:"stylesheet",href:e})),o.length&&o.remove(),$("#"+t)}var o={link:e,restrict:"A"};return o}angular.module("app.utils").directive("loadCss",e)}(),function(){"use strict";function e(e,t){function o(o,n,i){function a(){var t=e(new Date,r);n.text(t)}var r=i.format;a();var s=t(a,1e3);o.$on("$destroy",function(){t.cancel(s)})}var n={link:o,restrict:"EA"};return n}angular.module("app.utils").directive("now",e),e.$inject=["dateFilter","$interval"]}(),function(){"use strict";function e(){function e(e,t){t.on("change",function(){var e=$(this),t=e.index()+1,o=e.find('input[type="checkbox"]'),n=e.parents("table");n.find("tbody > tr > td:nth-child("+t+') input[type="checkbox"]').prop("checked",o[0].checked)})}var t={link:e,restrict:"A"};return t}angular.module("app.utils").directive("checkAll",e)}(),function(){"use strict";function e(e,t){function o(o,n){n.on("click",function(){t(function(){e.dispatchEvent(new Event("resize"))})})}var n={link:o,restrict:"A"};return n}angular.module("app.utils").directive("triggerResize",e),e.$inject=["$window","$timeout"]}(),function(){"use strict";function e(e,t){var o=angular.element("html"),n=angular.element(e),i=angular.element("body");return{support:{transition:function(){var e=function(){var e,t=document.body||document.documentElement,o={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(e in o)if(void 0!==t.style[e])return o[e]}();return e&&{end:e}}(),animation:function(){var e=function(){var e,t=document.body||document.documentElement,o={WebkitAnimation:"webkitAnimationEnd",MozAnimation:"animationend",OAnimation:"oAnimationEnd oanimationend",animation:"animationend"};for(e in o)if(void 0!==t.style[e])return o[e]}();return e&&{end:e}}(),requestAnimationFrame:window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)},touch:"ontouchstart"in window&&navigator.userAgent.toLowerCase().match(/mobile|tablet/)||window.DocumentTouch&&document instanceof window.DocumentTouch||window.navigator.msPointerEnabled&&window.navigator.msMaxTouchPoints>0||window.navigator.pointerEnabled&&window.navigator.maxTouchPoints>0||!1,mutationobserver:window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver||null},isInView:function(e,t){var o=$(e);if(!o.is(":visible"))return!1;var i=n.scrollLeft(),a=n.scrollTop(),r=o.offset(),s=r.left,l=r.top;return t=$.extend({topoffset:0,leftoffset:0},t),l+o.height()>=a&&l-t.topoffset<=a+n.height()&&s+o.width()>=i&&s-t.leftoffset<=i+n.width()},langdirection:"rtl"===o.attr("dir")?"right":"left",isTouch:function(){return o.hasClass("touch")},isSidebarCollapsed:function(){return i.hasClass("aside-collapsed")},isSidebarToggled:function(){return i.hasClass("aside-toggled")},isMobile:function(){return n.width()<t.tablet}}}angular.module("app.utils").service("Utils",e),e.$inject=["$window","APP_MEDIAQUERY"]}(),function(){"use strict";function e(e){e.useStaticFilesLoader({prefix:"app/i18n/",suffix:".json"}),e.preferredLanguage("en"),e.useLocalStorage(),e.usePostCompiling(!0)}angular.module("app.translate").config(e),e.$inject=["$translateProvider"]}(),function(){"use strict";function e(e,t){e.language={listIsOpen:!1,available:{en:"中文"},init:function(){var o=t.proposedLanguage()||t.use(),n=t.preferredLanguage();e.language.selected=e.language.available[o||n]},set:function(o){t.use(o),e.language.selected=e.language.available[o],e.language.listIsOpen=!e.language.listIsOpen}},e.language.init()}angular.module("app.translate").run(e),e.$inject=["$rootScope","$translate"]}(),function(){"use strict";function e(e){function t(){function t(e,t,o){t.opened.then(function(){var t=new google.maps.LatLng(33.790807,-117.835734);e.mapOptionsModal={zoom:14,center:t,mapTypeId:google.maps.MapTypeId.ROADMAP},o(function(){new google.maps.Marker({map:e.myMapModal,position:t}),google.maps.event.trigger(e.myMapModal,"resize"),e.myMapModal.panTo(t)})}),e.ok=function(){t.close("closed")},e.cancel=function(){t.dismiss("cancel")}}o.open=function(o){e.open({templateUrl:"/myModalContent.html",controller:t,size:o})},t.$inject=["$scope","$modalInstance","$timeout"]}var o=this;t()}angular.module("app.maps").controller("ModalGmapController",e),e.$inject=["$modal"]}(),function(){"use strict";function e(e){function t(){function t(e,t){return new google.maps.Marker({map:e,position:t})}var n=[new google.maps.LatLng(33.790807,-117.835734),new google.maps.LatLng(33.790807,-117.835734),new google.maps.LatLng(33.790807,-117.835734),new google.maps.LatLng(33.790807,-117.835734),new google.maps.LatLng(33.787453,-117.835858)];o.addMarker=t,e(function(){t(o.myMap1,n[0]),t(o.myMap2,n[1]),t(o.myMap3,n[2]),t(o.myMap5,n[3])}),o.mapOptions1={zoom:14,center:n[0],mapTypeId:google.maps.MapTypeId.ROADMAP,scrollwheel:!1},o.mapOptions2={zoom:19,center:n[1],mapTypeId:google.maps.MapTypeId.ROADMAP},o.mapOptions3={zoom:14,center:n[2],mapTypeId:google.maps.MapTypeId.SATELLITE},o.mapOptions4={zoom:14,center:n[3],mapTypeId:google.maps.MapTypeId.ROADMAP},e(function(){t(o.myMap4,n[3]),t(o.myMap4,n[4])});var i=[{featureType:"water",stylers:[{visibility:"on"},{color:"#bdd1f9"}]},{featureType:"all",elementType:"labels.text.fill",stylers:[{color:"#334165"}]},{featureType:"landscape",stylers:[{color:"#e9ebf1"}]},{featureType:"road.highway",elementType:"geometry",stylers:[{color:"#c5c6c6"}]},{featureType:"road.arterial",elementType:"geometry",stylers:[{color:"#fff"}]},{featureType:"road.local",elementType:"geometry",stylers:[{color:"#fff"}]},{featureType:"transit",elementType:"geometry",stylers:[{color:"#d8dbe0"}]},{featureType:"poi",elementType:"geometry",stylers:[{color:"#cfd5e0"}]},{featureType:"administrative",stylers:[{visibility:"on"},{lightness:33}]},{featureType:"poi.park",elementType:"labels",stylers:[{visibility:"on"},{lightness:20}]},{featureType:"road",stylers:[{color:"#d8dbe0",lightness:20}]}];o.mapOptions5={zoom:14,center:n[3],styles:i,mapTypeId:google.maps.MapTypeId.ROADMAP,scrollwheel:!1}}var o=this;t()}angular.module("app.maps").controller("GMapController",e),e.$inject=["$timeout"]}(),function(){"use strict";angular.module("custom",["angle","app.core","app.sidebar"])}(),function(){"use strict";angular.module("app.tags",["angle"])}(),function(){"use strict";angular.module("app.rooms",["angle"])}(),function(){"use strict";angular.module("app.themes",["angle"])}(),function(){"use strict";angular.module("app.users",["angle"])}(),function(){"use strict";angular.module("auth.login",["angle"])}(),function(){"use strict";angular.module("auth.noAuth",["angle"])}(),function(){"use strict";angular.module("app.authority",["angle"])}(),function(){"use strict";angular.module("app.group",["angle"])}(),function(){"use strict";function e(e){function t(){e.log("I'm a line from custom.js")}t()}angular.module("custom").controller("Controller",e),e.$inject=["$log"]}(),function(){"use strict";function e(e,t,o,n,i,a){function r(){l.isSelectAll=!1,l.isDeletedSelectAll=!1,l.tagsSelectedList=[],l.tagsSelected={},l.tagsDeletedSelectedList=[],l.tagsDeletedSelected={},l.dtOptions=i.newOptions().withPaginationType("full_numbers"),l.dtColumnDefs=[a.newColumnDef(0),a.newColumnDef(1),a.newColumnDef(2),a.newColumnDef(3).notSortable()],l.getAll=function(){n.getAll(1,1e3).success(function(e,t,n,i){if(200!=e.code){var a=o.simple().content(e.message).action("我知道了").highlightAction(!1).position("top right");o.show(a).then(function(){})}l.tagsList=e.message}).error(function(e,t,n,i){var a=o.simple().content("出错了，错误代码："+t).action("我知道了").highlightAction(!1).position("top right");o.show(a).then(function(){})})},l.getAllDeleted=function(){n.getDeleted(1,1e3).success(function(e,t,n,i){if(200!=e.code){var a=o.simple().content(e.message).action("我知道了").highlightAction(!1).position("top right");o.show(a).then(function(){})}l.tagsDeletedList=e.message}).error(function(e,t,n,i){var a=o.simple().content("出错了，错误代码："+t).action("我知道了").highlightAction(!1).position("top right");o.show(a).then(function(){})})},l.getAll(),l.getAllDeleted(),l.toggleSelectAll=function(){if(l.isSelectAll){l.tagsSelectedList=[];for(var e=0;e<l.tagsList.length;e++){var t=l.tagsList[e];l.tagsSelected[t._id]=!0,l.tagsSelectedList.push(t._id),l.isSelectAll=!0}}else{for(var e=0;e<l.tagsList.length;e++){var t=l.tagsList[e];l.tagsSelected[t._id]=!1,l.isSelectAll=!1}l.tagsSelectedList=[]}},l.selectThisTag=function(e){void 0==l.tagsSelected[e]&&(l.tagsSelected[e]=!1),l.tagsSelected[e]?(l.tagsSelected[e]=!0,l.tagsSelectedList.push(e)):(l.tagsSelected[e]=!1,l.tagsSelectedList.splice(l.tagsSelectedList.indexOf(e),1))},l.toggleSelectAllDeleted=function(){if(l.isDeletedSelectAll){l.tagsDeletedSelectedList=[];for(var e=0;e<l.tagsDeletedList.length;e++){var t=l.tagsDeletedList[e];l.tagsDeletedSelected[t._id]=!0,l.tagsDeletedSelectedList.push(t._id),l.isDeletedSelectAll=!0}}else{for(var e=0;e<l.tagsDeletedList.length;e++){var t=l.tagsDeletedList[e];l.tagsDeletedSelected[t._id]=!1,l.isDeletedSelectAll=!1}l.tagsDeletedSelectedList=[]}},l.selectThisDeletedTag=function(e){void 0==l.tagsDeletedSelected[e]&&(l.tagsDeletedSelected[e]=!1),l.tagsDeletedSelected[e]?(l.tagsDeletedSelected[e]=!0,l.tagsDeletedSelectedList.push(e)):(l.tagsDeletedSelected[e]=!1,l.tagsDeletedSelectedList.splice(l.tagsDeletedSelectedList.indexOf(e),1)),console.log(l.tagsDeletedSelectedList)}}function s(){l.selectCtrl={names:[{val:"编辑",onClicked:function(e,i,a){function r(e,t){e.tag=i,e.hide=function(){t.hide()},e.cancel=function(){t.cancel()},e.answer=function(e){t.hide(e)},e.confirmToModifyThisTag=function(){n.update(e.tag._id,e.tag.name,e.tag.description).success(function(t){var n=t.message;200===t.code&&(n="修改成功");var i=o.simple().content(n).action("我知道了").highlightAction(!1).position("top right");o.show(i).then(function(){}),200==t.code&&e.cancel()}).error(function(e){var t=o.simple().content("出错了，错误代码："+status).action("我知道了").highlightAction(!1).position("top right");o.show(t).then(function(){})})}}t.show({controller:r,templateUrl:"tags_detail.tmpl.html",targetEvent:e}).then(function(e){},function(){}),r.$inject=["$scope","$mdDialog"]}},{val:"删除",onClicked:function(e,i,a){var r=t.confirm().title("删除确认").content("你确定要删除此主题？").ariaLabel("Lucky day").ok("确定").cancel("取消").targetEvent(e);void 0!=a&&(l.tagsSelected[i._id]=!0,l.tagsSelectedList.push(i._id)),t.show(r).then(function(){var e=l.tagsSelectedList.length;l.tagsSelectedList.forEach(function(t,i){n.remove(t).success(function(t,n,a,r){var s=o.simple().content(t.message).action("我知道了").highlightAction(!1).position("top right");o.show(s).then(function(){}),i==e-1&&(l.getAll(),l.getAllDeleted())}).error(function(e,t,n,i){var a=o.simple().content("出错了，错误代码："+t).action("我知道了").highlightAction(!1).position("top right");o.show(a).then(function(){})})})},function(){})}}]},l.selectDeletedCtrl={names:[{val:"恢复",onClicked:function(e,t,i){void 0!=i&&(l.tagsDeletedSelected[t._id]=!0,l.tagsDeletedSelectedList.push(t._id));var a=l.tagsDeletedSelectedList.length;l.tagsDeletedSelectedList.forEach(function(e,t){n.unRemove(e).success(function(e,n,i,r){var s=o.simple().content(e.message).action("我知道了").highlightAction(!1).position("top right");o.show(s).then(function(){}),t==a-1&&(l.getAllDeleted(),l.getAll())}).error(function(e,t,n,i){var a=o.simple().content("出错了，错误代码："+t).action("我知道了").highlightAction(!1).position("top right");o.show(a).then(function(){})})})}}]}}var l=this;l.tagsList=[],l.tagsDeletedList=[],s(),r()}angular.module("app.tags").controller("TagsController",e),e.$inject=["$log","$mdDialog","$mdToast","TagService","DTOptionsBuilder","DTColumnDefBuilder"]}(),function(){"use strict";function e(e,t,o){return{getAll:function(o,n){return e.get(t.app.baseUrl+"tags/select/all")},getDeleted:function(o,n){return e.get(t.app.baseUrl+"tags/select/removed")},remove:function(o){return e.get(t.app.baseUrl+"tags/remove/"+o)},update:function(o,n,i){return e.get(t.app.baseUrl+"tags/update/"+o+"/"+n+"/"+i)},unRemove:function(o){return e.get(t.app.baseUrl+"tags/unremove/"+o)}}}angular.module("app.tags").service("TagService",e),e.$inject=["$http","$rootScope","$resource"]}(),function(){"use strict";function e(e,t,o,n,i,a){function r(){l.isSelectAll=!1,l.isDeletedSelectAll=!1,l.roomsSelectedList=[],l.roomsSelected={},l.roomsDeletedSelectedList=[],l.roomsDeletedSelected={},l.dtOptions=i.newOptions().withPaginationType("full_numbers"),l.dtColumnDefs=[a.newColumnDef(0),a.newColumnDef(1),a.newColumnDef(2),a.newColumnDef(3).notSortable()],l.getAll=function(){n.getAll(1,1e3).success(function(e,t,n,i){if(200!=e.code){var a=o.simple().content(e.message).action("我知道了").highlightAction(!1).position("top right");o.show(a).then(function(){})}l.roomsList=e.message}).error(function(e,t,n,i){var a=o.simple().content("出错了，错误代码："+t).action("我知道了").highlightAction(!1).position("top right");o.show(a).then(function(){})})},l.getAllDeleted=function(){n.getDeleted(1,1e3).success(function(e,t,n,i){if(200!=e.code){var a=o.simple().content(e.message).action("我知道了").highlightAction(!1).position("top right");o.show(a).then(function(){})}l.roomsDeletedList=e.message}).error(function(e,t,n,i){var a=o.simple().content("出错了，错误代码："+t).action("我知道了").highlightAction(!1).position("top right");o.show(a).then(function(){})})},l.getAll(),l.getAllDeleted(),l.toggleSelectAll=function(){if(l.isSelectAll){l.roomsSelectedList=[];for(var e=0;e<l.roomsList.length;e++){var t=l.roomsList[e];l.roomsSelected[t._id]=!0,l.roomsSelectedList.push(t._id),l.isSelectAll=!0}}else{for(var e=0;e<l.roomsList.length;e++){var t=l.roomsList[e];l.roomsSelected[t._id]=!1,l.isSelectAll=!1}l.roomsSelectedList=[]}},l.selectThisRoom=function(e){void 0==l.roomsSelected[e]&&(l.roomsSelected[e]=!1),l.roomsSelected[e]?(l.roomsSelected[e]=!0,l.roomsSelectedList.push(e)):(l.roomsSelected[e]=!1,l.roomsSelectedList.splice(l.roomsSelectedList.indexOf(e),1))},l.toggleSelectAllDeleted=function(){if(l.isDeletedSelectAll){l.roomsDeletedSelectedList=[];for(var e=0;e<l.roomsDeletedList.length;e++){var t=l.roomsDeletedList[e];l.roomsDeletedSelected[t._id]=!0,l.roomsDeletedSelectedList.push(t._id),l.isDeletedSelectAll=!0}}else{for(var e=0;e<l.roomsDeletedList.length;e++){var t=l.roomsDeletedList[e];l.roomsDeletedSelected[t._id]=!1,l.isDeletedSelectAll=!1}l.roomsDeletedSelectedList=[]}},l.selectThisDeletedRoom=function(e){void 0==l.roomsDeletedSelected[e]&&(l.roomsDeletedSelected[e]=!1),l.roomsDeletedSelected[e]?(l.roomsDeletedSelected[e]=!0,l.roomsDeletedSelectedList.push(e)):(l.roomsDeletedSelected[e]=!1,l.roomsDeletedSelectedList.splice(l.roomsDeletedSelectedList.indexOf(e),1)),console.log(l.roomsDeletedSelectedList)}}function s(){l.selectCtrl={names:[{val:"编辑",onClicked:function(e,i,a){function r(e,t){e.tag=i,e.hide=function(){t.hide()},e.cancel=function(){t.cancel()},e.answer=function(e){t.hide(e)},e.confirmToModifyThisRoom=function(){n.update(e.tag._id,e.tag.name,e.tag.description).success(function(t){var n=t.message;200===t.code&&(n="修改成功");var i=o.simple().content(n).action("我知道了").highlightAction(!1).position("top right");o.show(i).then(function(){}),200==t.code&&e.cancel()}).error(function(e){var t=o.simple().content("出错了，错误代码："+status).action("我知道了").highlightAction(!1).position("top right");o.show(t).then(function(){})})}}t.show({controller:r,templateUrl:"rooms_detail.tmpl.html",targetEvent:e}).then(function(e){},function(){}),r.$inject=["$scope","$mdDialog"]}},{val:"删除",onClicked:function(e,i,a){var r=t.confirm().title("删除确认").content("你确定要删除此主题？").ariaLabel("Lucky day").ok("确定").cancel("取消").targetEvent(e);void 0!=a&&(l.roomsSelected[i._id]=!0,l.roomsSelectedList.push(i._id)),t.show(r).then(function(){var e=l.roomsSelectedList.length;l.roomsSelectedList.forEach(function(t,i){n.remove(t).success(function(t,n,a,r){var s=o.simple().content(t.message).action("我知道了").highlightAction(!1).position("top right");o.show(s).then(function(){}),i==e-1&&(l.getAll(),l.getAllDeleted())}).error(function(e,t,n,i){var a=o.simple().content("出错了，错误代码："+t).action("我知道了").highlightAction(!1).position("top right");o.show(a).then(function(){})})})},function(){})}}]},l.selectDeletedCtrl={names:[{val:"恢复",onClicked:function(e,t,i){void 0!=i&&(l.roomsDeletedSelected[t._id]=!0,l.roomsDeletedSelectedList.push(t._id));var a=l.roomsDeletedSelectedList.length;l.roomsDeletedSelectedList.forEach(function(e,t){n.unRemove(e).success(function(e,n,i,r){var s=o.simple().content(e.message).action("我知道了").highlightAction(!1).position("top right");o.show(s).then(function(){}),t==a-1&&(l.getAllDeleted(),l.getAll())}).error(function(e,t,n,i){var a=o.simple().content("出错了，错误代码："+t).action("我知道了").highlightAction(!1).position("top right");o.show(a).then(function(){})})})}}]}}var l=this;l.roomsList=[],l.roomsDeletedList=[],s(),r()}angular.module("app.rooms").controller("RoomsController",e),e.$inject=["$log","$mdDialog","$mdToast","RoomService","DTOptionsBuilder","DTColumnDefBuilder"]}(),function(){"use strict";function e(e,t,o){return{getAll:function(o,n){return e.get(t.app.baseUrl+"tags/select/all")},getDeleted:function(o,n){return e.get(t.app.baseUrl+"tags/select/removed")},remove:function(o){return e.get(t.app.baseUrl+"tags/remove/"+o)},update:function(o,n,i){return e.get(t.app.baseUrl+"tags/update/"+o+"/"+n+"/"+i)},unRemove:function(o){return e.get(t.app.baseUrl+"tags/unremove/"+o)}}}angular.module("app.rooms").service("RoomService",e),e.$inject=["$http","$rootScope","$resource"]}(),function(){"use strict";function e(e,t,o,n,i,a,r){function s(){c.dtOptions=i.newOptions().withPaginationType("full_numbers"),c.dtColumnDefs=[a.newColumnDef(0),a.newColumnDef(1),a.newColumnDef(2),a.newColumnDef(3).notSortable()],c.getAll=function(){n.getAll(1,1e3).success(function(e,t,n,i){if(200!=e.code){var a=o.simple().content(e.message).action("我知道了").highlightAction(!1).position("top right");o.show(a).then(function(){})}c.themesList=e.message}).error(function(e,t,n,i){var a=o.simple().content("出错了，错误代码："+t).action("我知道了").highlightAction(!1).position("top right");o.show(a).then(function(){})})},c.getDeleted=function(){n.getDeleted(1,1e3).success(function(e,t,n,i){if(200!=e.code){var a=o.simple().content(e.message).action("我知道了").highlightAction(!1).position("top right");o.show(a).then(function(){})}c.themesDeletedList=e.message}).error(function(e,t,n,i){var a=o.simple().content("出错了，错误代码："+t).action("我知道了").highlightAction(!1).position("top right");o.show(a).then(function(){})})},c.getAll(),c.getDeleted()}function l(){c.selectCtrl={names:[{val:"查看投稿",onClicked:function(e,t,o){window.open("http://poi.poimoe.com/#!/view/"+t._id)}},{val:"作者信息",onClicked:function(e,o,n){function i(e,t){e.user=o.user_id,e.hide=function(){t.hide()},e.cancel=function(){t.cancel()},e.answer=function(e){t.hide(e)}}t.show({controller:i,templateUrl:"user_theme_detail.tmpl.html",targetEvent:e}).then(function(e){},function(){}),i.$inject=["$scope","$mdDialog"]}},{val:"删除",onClicked:function(e,i,a){var r=t.confirm().title("删除确认").content("你确定要删除此主题？").ariaLabel("Lucky day").ok("确定").cancel("取消").targetEvent(e);void 0!=a&&c.selecteThisById(i._id,c.element),t.show(r).then(function(){var e=c.element.selectedList.length;c.element.selectedList.forEach(function(t,i){n.remove(t).success(function(t,n,a,r){var s=o.simple().content(t.message).action("我知道了").highlightAction(!1).position("top right");o.show(s).then(function(){}),i==e-1&&(c.getAll(),c.getDeleted())}).error(function(e,t,n,i){var a=o.simple().content("出错了，错误代码："+t).action("我知道了").highlightAction(!1).position("top right");o.show(a).then(function(){})})})},function(){void 0!=a&&c.unSelectThisById(i._id,c.element)})}}]},c.selectDeletedCtrl={names:[{val:"作者信息",onClicked:function(e,t,o){c.selectCtrl.names[1].onClicked(e,t,o)}},{val:"恢复",onClicked:function(e,t,i){void 0!=i&&c.selecteThisById(t._id,c.elementDeleted);var a=c.elementDeleted.selectedList.length;c.elementDeleted.selectedList.forEach(function(e,t){n.unRemove(e).success(function(e,n,i,r){var s=o.simple().content(e.message).action("我知道了").highlightAction(!1).position("top right");o.show(s).then(function(){}),t==a-1&&(c.getAll(),c.getDeleted())}).error(function(e,t,n,i){var a=o.simple().content("出错了，错误代码："+t).action("我知道了").highlightAction(!1).position("top right");o.show(a).then(function(){})})})}}]}}var c=this;l(),s(),r.init(c,["element","elementDeleted"]),c.themesList=[],c.themesDeletedList=[]}angular.module("app.themes").controller("ThemesController",e),e.$inject=["$log","$mdDialog","$mdToast","ThemeService","DTOptionsBuilder","DTColumnDefBuilder","MOptions"]}(),function(){"use strict";function e(e,t,o){return{getAll:function(o,n){return e.get(t.app.baseUrl+"themes/select/all/"+o+"/"+n)},getDeleted:function(o,n){return e.get(t.app.baseUrl+"themes/select/removed/"+o+"/"+n)},remove:function(o){return e.get(t.app.baseUrl+"themes/remove/"+o)},unRemove:function(o){return e.get(t.app.baseUrl+"themes/unremove/"+o,{})}}}angular.module("app.themes").service("ThemeService",e),e.$inject=["$http","$rootScope","$resource"]}(),function(){"use strict";function e(e,t,o,n,i,a,r,s,l,c,u){function p(){g.dtOptions=i.newOptions().withPaginationType("full_numbers"),g.dtColumnDefs=[a.newColumnDef(0),a.newColumnDef(1),a.newColumnDef(2),a.newColumnDef(3).notSortable()],g.usersList=[],g.usersDeletedList=[],g.usersBlockedList=[],g.getAll=function(){s.getAll(1,1e3).success(function(e,t,o,n){if(200!=e.code){var i=l.simple().content(e.message).action("我知道了").highlightAction(!1).position("top right");l.show(i).then(function(){})}g.usersList=e.message}).error(function(e,t,o,n){var i=l.simple().content("出错了，错误代码："+t).action("我知道了").highlightAction(!1).position("top right");l.show(i).then(function(){})})},g.getAllDeleted=function(){s.getUserDeleted(1,1e3).success(function(e,t,o,n){if(200!=e.code){var i=l.simple().content(e.message).action("我知道了").highlightAction(!1).position("top right");l.show(i).then(function(){})}g.usersDeletedList=e.message}).error(function(e,t,o,n){var i=l.simple().content("出错了，错误代码："+t).action("我知道了").highlightAction(!1).position("top right");l.show(i).then(function(){})})},g.getAllBlocked=function(){s.getUserBlocked(1,1e3).success(function(e,t,o,n){if(200!=e.code){var i=l.simple().content(e.message).action("我知道了").highlightAction(!1).position("top right");l.show(i).then(function(){})}g.usersBlockedList=e.message}).error(function(e,t,o,n){var i=l.simple().content("出错了，错误代码："+t).action("我知道了").highlightAction(!1).position("top right");l.show(i).then(function(){})})},g.getAll(),g.getAllDeleted(),g.getAllBlocked()}function h(){g.selectCtrl={name:"",names:[{val:"锁定",onClicked:function(e,o,n){var i=t.confirm().title("锁定确认").content("你确定要锁定此用户？").ariaLabel("Lucky day").ok("确定").cancel("取消").targetEvent(e);void 0!=n&&g.selecteThisById(o._id,g.normalUsers),t.show(i).then(function(){var e=g.normalUsers.selectedList.length;if(0===e){var t=l.simple().content("您尚未选择任何用户").action("确定").highlightAction(!1).position("top right");return l.show(t),!1}g.normalUsers.selectedList.forEach(function(t,o){s.blockUserByUid(t).success(function(t,n,i,a){var r=l.simple().content(t.message).action("我知道了").highlightAction(!1).position("top right");l.show(r).then(function(){}),o==e-1&&(g.getAllBlocked(),g.getAll())}).error(function(e,t,o,n){var i=l.simple().content("出错了，错误代码："+t).action("我知道了").highlightAction(!1).position("top right");l.show(i).then(function(){})})})},function(){void 0!=n&&g.unSelectThisById(o._id,g.normalUsers)})}},{val:"删除",onClicked:function(e,o,n){var i=t.confirm().title("删除确认").content("你确定要删除此用户？").ariaLabel("Lucky day").ok("确定").cancel("取消").targetEvent(e);void 0!=n&&g.selecteThisById(o._id,g.normalUsers),t.show(i).then(function(){var e=g.normalUsers.selectedList.length;if(0===e){var t=l.simple().content("您尚未选择任何用户").action("确定").highlightAction(!1).position("top right");return l.show(t),!1}g.normalUsers.selectedList.forEach(function(t,o){s.removeUserByUid(t).success(function(t,n,i,a){var r=l.simple().content(t.message).action("我知道了").highlightAction(!1).position("top right");l.show(r).then(function(){}),o==e-1&&(g.getAllDeleted(),g.getAll())}).error(function(e,t,o,n){var i=l.simple().content("出错了，错误代码："+t).action("我知道了").highlightAction(!1).position("top right");l.show(i).then(function(){})})})},function(){void 0!=n&&g.unSelectThisById(o._id,g.normalUsers)})}}]},g.userSingleSelectCtrl={name:"",names:[{val:"详情",onClicked:function(e,n){function i(e,t){e.user=n,e.editThisUser=function(){s.update(e.user).success(function(e,o,n,i){var a=l.simple().content(e.message).action("我知道了").highlightAction(!1).position("top right");l.show(a).then(function(){}),200===e.code&&t.cancel()}).error(function(e,t,o,n){var i=l.simple().content("出错了，错误代码："+t).action("我知道了").highlightAction(!1).position("top right");l.show(i).then(function(){})})},e.hide=function(){t.hide()},e.cancel=function(){t.cancel()},e.answer=function(e){t.hide(e)}}t.show({controller:i,templateUrl:"user_detail.tmpl.html",targetEvent:e}).then(function(e){o.alert="You said the information was '"+e+"'."},function(){o.alert="You cancelled the dialog."}),i.$inject=["$scope","$mdDialog"]}},{val:"关系列表",onClicked:function(e,n){function i(e,t){e.followList=[],e.folloerList=[],e.user=n,u.remove(n._id).success(function(t,o,n,i){if(200!=t.code){var a=l.simple().content(t.message).action("我知道了").highlightAction(!1).position("top right");l.show(a).then(function(){})}t.message.length>0&&(e.followList=t.message[0].follow,e.followerList=t.message[0].follower)}).error(function(e,t,o,n){var i=l.simple().content("出错了，错误代码："+t).action("我知道了").highlightAction(!1).position("top right");l.show(i).then(function(){})}),e.hide=function(){t.hide(),e.followList=[],e.folloerList=[]},e.cancel=function(){t.cancel(),e.followList=[],e.folloerList=[]},e.answer=function(o){t.hide(o),e.followList=[],e.folloerList=[]}}t.show({controller:i,templateUrl:"user_relations.tmpl.html",targetEvent:e}).then(function(e){o.alert="You said the information was '"+e+"'."},function(){o.alert="You cancelled the dialog."}),i.$inject=["$scope","$mdDialog"]}},{val:"投稿列表",onClicked:function(e,n){function i(e,t,o){e.user=n,e.themesList=[],e.viewThisTheme=function(e){window.open("http://poi.poimoe.com/#!/view/"+e)},e.deleteThisTheme=function(t,n){o.remove(t).success(function(t,o,i,a){var r=l.simple().content(t.message).action("我知道了").highlightAction(!1).position("top right");l.show(r).then(function(){}),200===t.code&&e.themesList.splice(n,1)}).error(function(e,t,o,n){var i=l.simple().content("出错了，错误代码："+t).action("我知道了").highlightAction(!1).position("top right");l.show(i).then(function(){})})},s.getThemes(n._id,1,10).success(function(t,o,n,i){if(200!=t.code){var a=l.simple().content(t.message).action("我知道了").highlightAction(!1).position("top right");l.show(a).then(function(){})}e.themesList=t.message}).error(function(e,t,o,n){var i=l.simple().content("出错了，错误代码："+t).action("我知道了").highlightAction(!1).position("top right");l.show(i).then(function(){})}),e.hide=function(){t.hide()},e.cancel=function(){t.cancel()},e.answer=function(e){t.hide(e)}}t.show({controller:i,templateUrl:"user_themes.tmpl.html",targetEvent:e}).then(function(e){o.alert="You said the information was '"+e+"'."},function(){o.alert="You cancelled the dialog."}),i.$inject=["$scope","$mdDialog","ThemeService"]}},{val:"用户组管理",onClicked:function(e,n){function i(e,t,o){e.user=n,e.groupsList=[],e.applyThisUserGroup=function(n,i){o.applyToUser({aid:n,uid:e.user._id}).success(function(e,o,n,i){var a=l.simple().content(e.message).action("我知道了").highlightAction(!1).position("top right");l.show(a).then(function(){}),200===e.code&&t.cancel()}).error(function(e,t,o,n){var i=l.simple().content("出错了，错误代码："+t).action("我知道了").highlightAction(!1).position("top right");l.show(i).then(function(){})})},o.get().success(function(t,o,n,i){if(200!=t.code){var a=l.simple().content(t.message).action("我知道了").highlightAction(!1).position("top right");l.show(a).then(function(){})}e.groupsList=t.message}).error(function(e,t,o,n){var i=l.simple().content("出错了，错误代码："+t).action("我知道了").highlightAction(!1).position("top right");l.show(i).then(function(){})}),e.hide=function(){t.hide()},e.cancel=function(){t.cancel()},e.answer=function(e){t.hide(e)}}t.show({controller:i,templateUrl:"user_groups.tmpl.html",targetEvent:e}).then(function(e){o.alert="You said the information was '"+e+"'."},function(){o.alert="You cancelled the dialog."}),i.$inject=["$scope","$mdDialog","AuthorityService"]}}]},g.userDeletedSelectCtrl={name:"",names:[{val:"恢复",onClicked:function(e,o,n){var i=t.confirm().title("锁定确认").content("你确定要恢复此用户？").ariaLabel("Lucky day").ok("确定").cancel("取消").targetEvent(e);void 0!=n&&g.selecteThisById(o._id,g.removedUser);var a=g.removedUser.selectedList.length;if(0===a){var r=l.simple().content("您尚未选择任何用户").action("确定").highlightAction(!1).position("top right");return l.show(r),!1}t.show(i).then(function(){g.removedUser.selectedList.forEach(function(e,t){s.unRemoveUserByUid(e).success(function(e,o,n,i){var r=l.simple().content(e.message).action("我知道了").highlightAction(!1).position("top right");l.show(r).then(function(){}),t==a-1&&(g.getAllDeleted(),g.getAll())}).error(function(e,t,o,n){var i=l.simple().content("出错了，错误代码："+t).action("我知道了").highlightAction(!1).position("top right");l.show(i).then(function(){})})})},function(){void 0!=n&&g.unSelectThisById(o._id,g.removedUser)})}}]},g.userBlockedSelectCtrl={name:"",names:[{val:"解锁",onClicked:function(e,o,n){var i=t.confirm().title("锁定确认").content("你确定要恢复此用户？").ariaLabel("Lucky day").ok("确定").cancel("取消").targetEvent(e);void 0!=n&&g.selecteThisById(o._id,g.blockedUser);var a=g.blockedUser.selectedList.length;if(0===a){var r=l.simple().content("您尚未选择任何用户").action("确定").highlightAction(!1).position("top right");return l.show(r),!1}t.show(i).then(function(){g.blockedUser.selectedList.forEach(function(e,t){s.unBlockUserByUid(e).success(function(e,o,n,i){var r=l.simple().content(e.message).action("我知道了").highlightAction(!1).position("top right");l.show(r).then(function(){}),t==a-1&&(g.getAllBlocked(),g.getAll())}).error(function(e,t,o,n){var i=l.simple().content("出错了，错误代码："+t).action("我知道了").highlightAction(!1).position("top right");l.show(i).then(function(){})})})},function(){void 0!=n&&g.unSelectThisById(o._id,g.blockedUser)})}}]}}var g=this;h(),
p(),c.init(g,["normalUsers","removedUser","blockedUser"])}angular.module("app.users").controller("UsersController",e),e.$inject=["$log","$mdDialog","$scope","$resource","DTOptionsBuilder","DTColumnDefBuilder","$http","UserService","$mdToast","MOptions","ThemeService"]}(),function(){"use strict";function e(e,t,o){return{getAll:function(o,n){return e.get(t.app.baseUrl+"user/select/all/"+o+"/"+n)},getUserDeleted:function(o,n){return e.get(t.app.baseUrl+"user/select/deleted/"+o+"/"+n)},getUserBlocked:function(o,n){return e.get(t.app.baseUrl+"user/select/blocked/"+o+"/"+n)},blockUser:function(o){return e.post(t.app.baseUrl+"user/block",o,{})},deleteUser:function(o){return e.post(t.app.baseUrl+"user/delete",o,{})},update:function(o){return e.post(t.app.baseUrl+"user/profile/modify",o)},unDeleteUser:function(o){return e.post(t.app.baseUrl+"user/undelete",o,{})},unBlockUser:function(o){return e.post(t.app.baseUrl+"user/unblock",o,{})},getRelations:function(o,n,i){return e.get(t.app.baseUrl+"relations/select/"+o+"/"+n+"/"+i)},getThemes:function(o,n,i){return e.get(t.app.baseUrl+"themes/get/"+o+"/"+n+"/"+i)},removeUserByUid:function(o){return e.get(t.app.baseUrl+"user/delete/"+o)},unRemoveUserByUid:function(o){return e.get(t.app.baseUrl+"user/unRemove/"+o)},blockUserByUid:function(o){return e.get(t.app.baseUrl+"user/block/"+o)},unBlockUserByUid:function(o){return e.get(t.app.baseUrl+"user/unblock/"+o)}}}angular.module("app.users").service("UserService",e),e.$inject=["$http","$rootScope","$resource"]}(),function(){"use strict";function e(e,t,o,n,i){var a=this;a.account={username:"",password:""},localStorage.rememberMe="undefined"==typeof localStorage.rememberMe||"false"==localStorage.rememberMe?!1:localStorage.rememberMe,a.rememberMe="true"==localStorage.rememberMe,"true"===localStorage.rememberMe&&(a.account.username=localStorage.email,a.account.password=localStorage.password),a.logout=function(){n.logout().success(function(e){if(200!=e.code){var t=o.simple().content(e.message).action("我知道了").highlightAction(!1).position("top right");return o.show(t).then(function(){}),!1}n.clearAfterLogout(),i.go("auth.login")}).error(function(e){var t=o.simple().content("出错了，错误代码："+status).action("我知道了").highlightAction(!1).position("top right");o.show(t).then(function(){})})},a.loginIn=function(){if(""==a.account.username){var e=o.simple().content("请填写用户名").action("确定").highlightAction(!1).position("top right");return o.show(e).then(function(){}),!1}if(""==a.account.password){var e=o.simple().content("请填写密码").action("确定").highlightAction(!1).position("top right");return o.show(e).then(function(){}),!1}n.login(a.account.username,a.account.password).success(function(e){if(200!=e.code){var t=o.simple().content(e.message).action("我知道了").highlightAction(!1).position("top right");return o.show(t).then(function(){}),!1}var r=e.data;sessionStorage.isFromLoginPage=!0,n.parseUserInfo(r),a.rememberMe&&(localStorage.rememberMe=!0,localStorage.email=a.account.username,localStorage.password=a.account.password),"false"==localStorage.isRoot?i.go("auth.noAuth"):i.go("app.welcome")}).error(function(e,t){var n=o.simple().content("出错了，错误代码："+t).action("我知道了").highlightAction(!1).position("top right");o.show(n).then(function(){})})}}angular.module("auth.login").controller("LoginController",e),e.$inject=["$log","$mdDialog","$mdToast","AuthService","$state"]}(),function(){"use strict";function e(e,t,o){return{login:function(o,n){return e.get(t.app.baseUrl+"user/login/"+o+"/"+n)},clearAfterLogout:function(){localStorage._id=void 0,"true"!=localStorage.rememberMe&&(localStorage.email=void 0,localStorage.password=void 0),localStorage.accessToken=void 0,localStorage.photo=void 0,localStorage.group=void 0,localStorage.login=!1,localStorage.auth=!1,localStorage.isRoot=!1,localStorage.userData=void 0,localStorage.username=void 0,delete window.$hp.defaults.headers.common.Authorization},logout:function(){return e.get(t.app.baseUrl+"user/logout")},parseUserInfo:function(e){var t=!1;if("string"==typeof e?""!=e?(localStorage.userData=e,e=JSON.parse(e),t=!0):"localhost"!=document.domain:(localStorage.userData=JSON.stringify(e),t=!0),!t)return!1;localStorage._id=e._id,localStorage.username=e.username,localStorage.password=e.password,localStorage.accessToken=e.accessToken,localStorage.photo=e.photo,localStorage.group=JSON.stringify(e.group),localStorage.login=!0,window.$hp.defaults.headers.common.Authorization="Basic "+localStorage.accessToken;var o=localStorage.group;if("undefined"==o||void 0==o)localStorage.auth=!1,localStorage.isRoot=!1;else{o=JSON.parse(o);for(var n=!1,i=0;i<o.length;i++){var a=o[i];if("root"===a.name&&"100"===a.code||"101"===a.code){n=!0,console.log(n);break}}n?(localStorage.auth=!0,localStorage.isRoot=!0):localStorage.isRoot=!1}}}}angular.module("auth.login").service("AuthService",e),e.$inject=["$http","$rootScope","$resource"]}(),function(){"use strict";function e(e,t,o,n,i){var a=this;a.isLogin="undefined"!=typeof localStorage.login&&"false"!=localStorage.login,a.logout=function(){n.logout().success(function(e){if(200!=e.code){var t=o.simple().content(e.message).action("我知道了").highlightAction(!1).position("top right");return o.show(t).then(function(){}),!1}n.clearAfterLogout(),i.go("auth.login")}).error(function(e){var t=o.simple().content("出错了，错误代码："+status).action("我知道了").highlightAction(!1).position("top right");o.show(t).then(function(){})})}}angular.module("auth.noAuth").controller("NoAuthController",e),e.$inject=["$log","$mdDialog","$mdToast","AuthService","$state"]}(),function(){"use strict";function e(e,t,o,n,i,a){var r=this;a.init(r,["allAuthList"]),r.submitThisAuth=function(){n["new"](r.newAuth).success(function(e){var t=200===e.code?"添加成功":e.message,n=o.simple().content(t).action("我知道了").highlightAction(!1).position("top right");o.show(n).then(function(){i.go("app.authority")}),200==e.code&&(r.newAuth={},r.getAuthList())}).error(function(e,t){var n=o.simple().content("出错了，错误代码："+t).action("我知道了").highlightAction(!1).position("top right");o.show(n).then(function(){})})},r.getAuthList=function(){n.get().success(function(e){if(200!=e.code){var t=o.simple().content(e.message).action("我知道了").highlightAction(!1).position("top right");return o.show(t).then(function(){}),!1}r.authList=e.message}).error(function(e,t){var n=o.simple().content("出错了，错误代码："+t).action("我知道了").highlightAction(!1).position("top right");o.show(n).then(function(){})})},r.getAuthList(),r.authActions={name:"",names:[{val:"编辑",onClicked:function(e,i,a){function s(e,t,a){e.auth=i,e.hide=function(){t.hide()},e.cancel=function(){t.cancel()},e.answer=function(e){t.hide(e)},e.editThisAuth=function(){n.edit(i).success(function(e,n,i,a){var s=o.simple().content(e.message).action("我知道了").highlightAction(!1).position("top right");o.show(s).then(function(){}),200==e.code&&(r.getAuthList(),t.cancel())}).error(function(e,t,n,i){var a=o.simple().content("出错了，错误代码："+t).action("我知道了").highlightAction(!1).position("top right");o.show(a).then(function(){})})}}t.show({controller:s,templateUrl:"auth_detail.tmpl.html",targetEvent:e}).then(function(e){$scope.alert="You said the information was '"+e+"'."},function(){$scope.alert="You cancelled the dialog."}),s.$inject=["$scope","$mdDialog","ThemeService"]}},{val:"删除",onClicked:function(e,i,a){var s=t.confirm().title("删除确认").content("你确定要删除此用户组？").ariaLabel("Lucky day").ok("确定").cancel("取消").targetEvent(e);void 0!=a&&r.selecteThisById(i._id,r.allAuthList),t.show(s).then(function(){var e=r.allAuthList.selectedList.length;if(console.log(r.allAuthList),0===e){var t=o.simple().content("您尚未选择任何用户组").action("确定").highlightAction(!1).position("top right");return o.show(t),!1}r.allAuthList.selectedList.forEach(function(t,i){n.remove(t).success(function(t,n,a,s){var l=o.simple().content(t.message).action("我知道了").highlightAction(!1).position("top right");o.show(l).then(function(){}),i==e-1&&r.getAuthList()}).error(function(e,t,n,i){var a=o.simple().content("出错了，错误代码："+t).action("我知道了").highlightAction(!1).position("top right");o.show(a).then(function(){})})})},function(){void 0!=a&&r.unSelectThisById(i._id,r.allAuthList)})}}]},r.footerAction={name:"",names:[{val:"删除",onClicked:function(e){r.authActions.names[1].onClicked(e)}}]}}angular.module("app.authority").controller("AuthorityController",e),e.$inject=["$log","$mdDialog","$mdToast","AuthorityListService","$state","MOptions"]}(),function(){"use strict";function e(e,t,o){return{get:function(){return e.get(t.app.baseUrl+"groups/select/all")},"new":function(o){return e.post(t.app.baseUrl+"groups/add",o)},remove:function(o){return e.get(t.app.baseUrl+"groups/remove/"+o)},edit:function(o){return e.post(t.app.baseUrl+"groups/update",o)},applyAuthority:function(o){return e.post(t.app.baseUrl+"groups/authority/applyment",o)},applyToUser:function(o){return e.post(t.app.baseUrl+"groups/to/user",o)}}}function t(e,t,o){return{get:function(){return e.get(t.app.baseUrl+"auth/list/select/all")},"new":function(o){return e.post(t.app.baseUrl+"auth/list/add",o)},remove:function(o){return e.get(t.app.baseUrl+"auth/list/remove/"+o)},edit:function(o){return e.post(t.app.baseUrl+"auth/list/update",o)}}}angular.module("app.authority").service("AuthorityService",e).service("AuthorityListService",t),e.$inject=["$http","$rootScope","$resource"],t.$inject=["$http","$rootScope","$resource"]}(),function(){"use strict";function e(e,t,o,n,i,a,r){var s=this;s.groupsList=[],a.init(s,["allGroupsList"]),s.getGroups=function(){n.get().success(function(e){if(200!=e.code){var t=o.simple().content(e.message).action("我知道了").highlightAction(!1).position("top right");return o.show(t).then(function(){}),!1}console.log(e),s.groupsList=e.message}).error(function(e,t){var n=o.simple().content("出错了，错误代码："+t).action("我知道了").highlightAction(!1).position("top right");o.show(n).then(function(){})})},s.getGroups(),s.submitThisGroup=function(){n["new"](s.group).success(function(e){var t=200===e.code?"添加成功":e.message,n=o.simple().content(t).action("我知道了").highlightAction(!1).position("top right");o.show(n).then(function(){i.go("app.group")}),200==e.code&&(s.group={},s.getGroups())}).error(function(e,t){var n=o.simple().content("出错了，错误代码："+t).action("我知道了").highlightAction(!1).position("top right");o.show(n).then(function(){})})},s.groupsAction={name:"",names:[{val:"编辑",onClicked:function(e,i,a){function r(e,t,a){e.group=i,isNaN(e.code)||(e.group=parseInt(e.group),console.log(e.group)),e.hide=function(){t.hide()},e.cancel=function(){t.cancel()},e.answer=function(e){t.hide(e)},e.updateThisGroup=function(){n.edit(i).success(function(e,n,i,a){var r=o.simple().content(e.message).action("我知道了").highlightAction(!1).position("top right");o.show(r).then(function(){}),200==e.code&&(s.getGroups(),t.cancel())}).error(function(e,t,n,i){var a=o.simple().content("出错了，错误代码："+t).action("我知道了").highlightAction(!1).position("top right");o.show(a).then(function(){})})}}t.show({controller:r,templateUrl:"group_detail.tmpl.html",targetEvent:e}).then(function(e){$scope.alert="You said the information was '"+e+"'."},function(){$scope.alert="You cancelled the dialog."}),r.$inject=["$scope","$mdDialog","ThemeService"]}},{val:"分配权限",onClicked:function(e,i,l){function c(e,t,l){a.init(e,["authListOptions"]),e.group=i,e.auth={authList:[]};for(var c=e.group.rightsList,u=0;u<c.length;u++){var p=c[u],h=p._id;e.selecteThisById(h,e.authListOptions)}r.get().success(function(t){if(200!=t.code){var n=o.simple().content(t.message).action("我知道了").highlightAction(!1).position("top right");return o.show(n).then(function(){}),!1}e.auth.authList=t.message,e.auth.authList.length===c.length&&e.selectAll(e.auth.authList,e.authListOptions),s.getGroups()}).error(function(e,t){var n=o.simple().content("出错了，错误代码："+t).action("我知道了").highlightAction(!1).position("top right");o.show(n).then(function(){})}),e.applyTheAuth=function(){n.applyAuthority({id:e.group._id,rights:e.authListOptions.selectedList}).success(function(e){var n=o.simple().content(e.message).action("我知道了").highlightAction(!1).position("top right");o.show(n).then(function(){}),200===e.code&&t.cancel()}).error(function(e,t){var n=o.simple().content("出错了，错误代码："+t).action("我知道了").highlightAction(!1).position("top right");o.show(n).then(function(){})})},e.hide=function(){t.hide()},e.cancel=function(){t.cancel()},e.answer=function(e){t.hide(e)}}t.show({controller:c,templateUrl:"auth_distribute.tmpl.html",targetEvent:e}).then(function(e){$scope.alert="You said the information was '"+e+"'."},function(){$scope.alert="You cancelled the dialog."}),c.$inject=["$scope","$mdDialog","ThemeService"]}},{val:"删除",onClicked:function(e,i,a){var r=t.confirm().title("删除确认").content("你确定要删除此用户组？").ariaLabel("Lucky day").ok("确定").cancel("取消").targetEvent(e);void 0!=a&&s.selecteThisById(i._id,s.allGroupsList),t.show(r).then(function(){var e=s.allGroupsList.selectedList.length;if(console.log(s.allGroupsList),0===e){var t=o.simple().content("您尚未选择任何用户组").action("确定").highlightAction(!1).position("top right");return o.show(t),!1}s.allGroupsList.selectedList.forEach(function(t,i){n.remove(t).success(function(t,n,a,r){var l=o.simple().content(t.message).action("我知道了").highlightAction(!1).position("top right");o.show(l).then(function(){}),i==e-1&&s.getGroups()}).error(function(e,t,n,i){var a=o.simple().content("出错了，错误代码："+t).action("我知道了").highlightAction(!1).position("top right");o.show(a).then(function(){})})})},function(){void 0!=a&&s.unSelectThisById(i._id,s.allGroupsList)})}}]},s.footerAction={name:"",names:[{val:"删除",onClicked:function(e){s.groupsAction.names[2].onClicked(e)}}]}}angular.module("app.group").controller("GroupController",e),e.$inject=["$log","$mdDialog","$mdToast","AuthorityService","$state","MOptions","AuthorityListService"]}();